<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>STP on 伏太中文技术博客</title>
        <link>https://RayFUTAI.github.ioc/tags/stp/</link>
        <description>Recent content in STP on 伏太中文技术博客</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Sat, 31 Jan 2026 22:40:53 +0800</lastBuildDate><atom:link href="https://RayFUTAI.github.ioc/tags/stp/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>CCNA 实验：月底大整合实验</title>
        <link>https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/</link>
        <pubDate>Sat, 31 Jan 2026 22:40:53 +0800</pubDate>
        
        <guid>https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/</guid>
        <description>&lt;img src="https://images.unsplash.com/photo-1656857221015-ddc2163a08da?q=80&amp;w=1470&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Featured image of post CCNA 实验：月底大整合实验" /&gt;&lt;h1 id=&#34;实验目地主要验证了vlan划分-vtp同步-三层交换-stp的完整流通信过程&#34;&gt;实验目地：主要验证了VLAN划分-VTP同步-三层交换-STP的完整流通信过程
&lt;/h1&gt;&lt;h2 id=&#34;实验拓扑图&#34;&gt;实验拓扑图
&lt;/h2&gt;&lt;h3 id=&#34;以及目标任务&#34;&gt;以及目标任务
&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/1.jpg&#34;
	width=&#34;2875&#34;
	height=&#34;1527&#34;
	srcset=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/1_hu_96f6095ed5e900f4.jpg 480w, https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/1_hu_850aef65f74ddb9e.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;拓扑图&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;188&#34;
		data-flex-basis=&#34;451px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;使用设备2台pc--1台三层交换机&#34;&gt;使用设备：2台PC | 1台三层交换机
&lt;/h4&gt;&lt;h4 id=&#34;使用线路2个直通线&#34;&gt;使用线路：2个直通线
&lt;/h4&gt;&lt;h4 id=&#34;vlan10网段1921681024&#34;&gt;VLAN10网段：192.168.1.0/24
&lt;/h4&gt;&lt;h4 id=&#34;vlan20网段1921682024&#34;&gt;VLAN20网段：192.168.2.0/24
&lt;/h4&gt;&lt;h2 id=&#34;步骤一命名三层交换机&#34;&gt;步骤一：命名三层交换机
&lt;/h2&gt;&lt;h3 id=&#34;分别为sw1和sw2&#34;&gt;分别为：SW1和SW2
&lt;/h3&gt;&lt;h4 id=&#34;命令如下&#34;&gt;命令如下:
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#hostname SW1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#hostname SW2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/2.jpg&#34;
	width=&#34;2876&#34;
	height=&#34;1519&#34;
	srcset=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/2_hu_7c28ef502a33a8d9.jpg 480w, https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/2_hu_f8bcfd3b409ec236.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;命令&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;189&#34;
		data-flex-basis=&#34;454px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;步骤二加密交换机dm5&#34;&gt;步骤二：加密交换机（dm5）
&lt;/h2&gt;&lt;h3 id=&#34;sw1和sw2为相同密码ccna&#34;&gt;SW1和SW2为相同密码:CCNA
&lt;/h3&gt;&lt;h4 id=&#34;命令如下-1&#34;&gt;命令如下:
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#enable scaret CCNA
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/3.jpg&#34;
	width=&#34;2879&#34;
	height=&#34;1522&#34;
	srcset=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/3_hu_e8ffc62eb66cee97.jpg 480w, https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/3_hu_91baa4b09c92cca4.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;命令&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;189&#34;
		data-flex-basis=&#34;453px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;步骤三创建域名以及运用vtp功能&#34;&gt;步骤三：创建域名以及运用VTP功能
&lt;/h2&gt;&lt;h3 id=&#34;在sw1下创建域名并将sw1创建为服务器sw2为客户端并在端口上开启trunk&#34;&gt;在SW1下创建域名并将SW1创建为服务器,SW2为客户端并在端口上开启Trunk.
&lt;/h3&gt;&lt;h4 id=&#34;命令如下-2&#34;&gt;命令如下:
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#vtp domain CCNA #创建域名
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#vtp mode verver #创建为服务器
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#vtp version 2 #版本设置为2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#vtp mode client #创建为客户端模式 -SW2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#int G0/1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#switchport trunk encapsulation dot1q #统一协议为dot1q
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#switchport mode trunk #开启trunk链路
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/4.jpg&#34;
	width=&#34;2879&#34;
	height=&#34;1524&#34;
	srcset=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/4_hu_e410e15ba2d62ef.jpg 480w, https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/4_hu_149142d416a60a14.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;命令&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;188&#34;
		data-flex-basis=&#34;453px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;步骤四创建vlan并命名&#34;&gt;步骤四：创建VLAN并命名
&lt;/h2&gt;&lt;h3 id=&#34;vlan10-命名为tencher-vlan20-命名为stduent&#34;&gt;vlan10 命名为tencher vlan20 命名为stduent
&lt;/h3&gt;&lt;h4 id=&#34;命令如下-3&#34;&gt;命令如下:
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#vlan 10 #创建vlan
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-vlan)#name tencher #命名
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#vlan 20 #创建vlan
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-vlan)#name stduent #命名
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;do show vlan brief #查看vlan表
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/5.jpg&#34;
	width=&#34;2879&#34;
	height=&#34;1521&#34;
	srcset=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/5_hu_9a3d237b177b1861.jpg 480w, https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/5_hu_dcb6591da60990b6.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;命令&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;189&#34;
		data-flex-basis=&#34;454px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;步骤五划分vlan对应的主机&#34;&gt;步骤五：划分VLAN对应的主机
&lt;/h2&gt;&lt;h3 id=&#34;vlan10-为黄色区域-vlan20-为蓝色区域&#34;&gt;vlan10 为黄色区域 vlan20 为蓝色区域
&lt;/h3&gt;&lt;h4 id=&#34;命令如下-4&#34;&gt;命令如下:
&lt;/h4&gt;&lt;h5 id=&#34;sw1下&#34;&gt;SW1下:
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#int F0/1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#switchport mode access
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#switchport access vlan10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#int range F0/2-3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if-range)#switchport mode access
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if-range)#switchport access vlan20
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;sw2下&#34;&gt;SW2下:
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#int range F0/1-2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if-range)#switchport mode access
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if-range)#switchport access vlan10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#int F0/3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#switchport mode access
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#switchport access vlan20
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/6.jpg&#34;
	width=&#34;2879&#34;
	height=&#34;1524&#34;
	srcset=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/6_hu_25cbfa2f8a701478.jpg 480w, https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/6_hu_184e82f3da19712f.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;命令&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;188&#34;
		data-flex-basis=&#34;453px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;步骤六给vlan配置ip并开启路由模式&#34;&gt;步骤六：给vlan配置ip并开启路由模式
&lt;/h2&gt;&lt;h3 id=&#34;在sw1下配置&#34;&gt;在SW1下配置
&lt;/h3&gt;&lt;h4 id=&#34;命令如下-5&#34;&gt;命令如下:
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#int vlan 10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#ip address 192.168.1.254 255.255.255.0 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#no shutdown
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#int vlan 20
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#ip address 192.168.2.254 255.255.255.0 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#no shutdown
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#exit 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#ip routing #开启路由模式
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/7.jpg&#34;
	width=&#34;2879&#34;
	height=&#34;1511&#34;
	srcset=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/7_hu_3218ed1910f82bbc.jpg 480w, https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/7_hu_f0151c94115d37b0.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;命令&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;190&#34;
		data-flex-basis=&#34;457px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;步骤七在全局模式下开启stpprtfast工具并配合bpdu工具&#34;&gt;步骤七：在全局模式下开启stp:prtfast工具并配合BPDU工具
&lt;/h2&gt;&lt;h3 id=&#34;在sw1和sw2下配置并保存配置&#34;&gt;在SW1和SW2下配置并保存配置
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#spanning-tree portfast default #开启prtfast
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#spanning-tree portfast bpduguard default  #开启BPDU
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#do w #保存配置
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/8.jpg&#34;
	width=&#34;2879&#34;
	height=&#34;1522&#34;
	srcset=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/8_hu_9de5ba4ca6ec66ce.jpg 480w, https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/8_hu_cc39efae9b435a98.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;命令&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;189&#34;
		data-flex-basis=&#34;453px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;步骤八测试网络连通性&#34;&gt;步骤八：测试网络连通性
&lt;/h2&gt;&lt;h3 id=&#34;ping不同网段&#34;&gt;ping不同网段
&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/9.jpg&#34;
	width=&#34;2879&#34;
	height=&#34;1518&#34;
	srcset=&#34;https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/9_hu_756366be285509c7.jpg 480w, https://RayFUTAI.github.ioc/p/ccna-%E5%AE%9E%E9%AA%8C%E6%9C%88%E5%BA%95%E5%A4%A7%E6%95%B4%E5%90%88%E5%AE%9E%E9%AA%8C/9_hu_2c7e8be091f1a53b.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;ping&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;189&#34;
		data-flex-basis=&#34;455px&#34;
	
&gt;&lt;/p&gt;
&lt;h1 id=&#34;实验结束&#34;&gt;实验结束
&lt;/h1&gt;&lt;h2 id=&#34;查看命令&#34;&gt;查看命令:
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch#show vlan brief
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch#show ip int br 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title>CCNA 理论：Loop Guard工具</title>
        <link>https://RayFUTAI.github.ioc/p/ccna-%E7%90%86%E8%AE%BAloop-guard%E5%B7%A5%E5%85%B7/</link>
        <pubDate>Fri, 30 Jan 2026 20:30:12 +0800</pubDate>
        
        <guid>https://RayFUTAI.github.ioc/p/ccna-%E7%90%86%E8%AE%BAloop-guard%E5%B7%A5%E5%85%B7/</guid>
        <description>&lt;img src="https://images.unsplash.com/photo-1613487957484-32c977a8bd62?q=80&amp;w=2069&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Featured image of post CCNA 理论：Loop Guard工具" /&gt;&lt;h1 id=&#34;1为什么需要loop-guard-&#34;&gt;1.为什么需要Loop Guard ?
&lt;/h1&gt;&lt;h3 id=&#34;在stp的逻辑里交换机靠接收bpdu来确认链路正常如果一个端口突然收不到bpdu了他会怎么想&#34;&gt;在stp的逻辑里，交换机靠接收BPDU来确认链路正常.如果一个端口突然收不到BPDU了，他会怎么想？
&lt;/h3&gt;&lt;h4 id=&#34;他认为对面没有交换机了或者链路断了&#34;&gt;他认为：对面没有交换机了，或者链路断了.
&lt;/h4&gt;&lt;h4 id=&#34;他的动作他会把自己从blocking堵塞状态切换到forwarding转发状态&#34;&gt;他的动作：他会把自己从blocking(堵塞)状态切换到Forwarding(转发)状态.
&lt;/h4&gt;&lt;h4 id=&#34;结果如果实际上链路没断只是因为光纤单向故障cpu过载等原因导致bpdu丢了瞬间就会产生物理环路全网瘫痪&#34;&gt;结果:如果实际上链路没断，只是因为光纤单向故障，cpu过载等原因导致BPDU丢了，瞬间就会产生物理环路，全网瘫痪.
&lt;/h4&gt;&lt;h4 id=&#34;loop-guard的作用当一个本来因该接收bpdu的端口突然失联loop-guardd不允许他进入转发状态而是把他切入到loop-inconsistent环路不一致状态直到重新接收到bpdu为止&#34;&gt;Loop Guard的作用：当一个本来因该接收BPDU的端口突然&amp;quot;失联&amp;quot;Loop Guardd不允许他进入转发状态，而是把他切入到loop-inconsistent(环路不一致)状态，直到重新接收到BPDU为止.
&lt;/h4&gt;&lt;h1 id=&#34;配置指令&#34;&gt;配置指令
&lt;/h1&gt;&lt;h3 id=&#34;loop-guardd可以在全局模式开启推荐也可以在接口模式下开启&#34;&gt;Loop Guardd可以在全局模式开启（推荐）也可以在接口模式下开启。
&lt;/h3&gt;&lt;h4 id=&#34;全局模式最省事&#34;&gt;全局模式（最省事）
&lt;/h4&gt;&lt;h5 id=&#34;他会自动应用在对点链路full-duplex上&#34;&gt;他会自动应用在对点链路（FUll-Duplex）上:
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#spanning-tree loopguard default
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;接口模式更精确&#34;&gt;接口模式（更精确）
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#int G0/1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)spanning-tree guard loop
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h1 id=&#34;注意&#34;&gt;注意！！！
&lt;/h1&gt;&lt;h3 id=&#34;root-guard和loop-guard是死对头因为他们逻辑冲突一个接口只能同时选择一个通常上连口root-port开loop-guard下连口designated-port开root-guard&#34;&gt;Root Guard和Loop Guard是死对头，因为他们逻辑冲突，一个接口只能同时选择一个.通常:上连口(Root Port)开Loop Guard，下连口(Designated Port)开Root Guard.
&lt;/h3&gt;</description>
        </item>
        <item>
        <title>CCNA 理论：STP-Root Guard工具</title>
        <link>https://RayFUTAI.github.ioc/p/ccna-%E7%90%86%E8%AE%BAstp-root-guard%E5%B7%A5%E5%85%B7/</link>
        <pubDate>Thu, 29 Jan 2026 20:56:49 +0800</pubDate>
        
        <guid>https://RayFUTAI.github.ioc/p/ccna-%E7%90%86%E8%AE%BAstp-root-guard%E5%B7%A5%E5%85%B7/</guid>
        <description>&lt;img src="https://images.unsplash.com/photo-1758964112991-84be3393d9b1?q=80&amp;w=1471&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Featured image of post CCNA 理论：STP-Root Guard工具" /&gt;&lt;h1 id=&#34;1什么是root-guard&#34;&gt;1.什么是Root Guard？
&lt;/h1&gt;&lt;h3 id=&#34;他的核心逻辑无论发生什么我不允许新的邻居抢走根桥root-bridge老大的位置&#34;&gt;他的核心逻辑：无论发生什么，我不允许新的邻居抢走&amp;quot;根桥&amp;quot;（Root Bridge）老大的位置.
&lt;/h3&gt;&lt;h4 id=&#34;他的作用他会监视端口接收到的bpdu&#34;&gt;他的作用:他会监视端口接收到的BPDU.
&lt;/h4&gt;&lt;h4 id=&#34;他的动作如果接受到了一个比当前老大根桥更低的superior-bpduroot-guard会认为有人想要篡改立刻将该端口置于root-inconsistent根不一致状态&#34;&gt;他的动作：如果接受到了一个比当前老大（根桥）更低的Superior BPDU，Root Guard会认为有人想要篡改，立刻将该端口置于root-inconsistent(根不一致)状态.
&lt;/h4&gt;&lt;h4 id=&#34;状态表现这个接口会停止接收数据效果类似断开blocking直到那个想抢位置的superior-bpdu消失为止&#34;&gt;状态表现:这个接口会停止接收数据，效果类似断开(Blocking)直到那个想抢位置的Superior BPDU消失为止.
&lt;/h4&gt;&lt;h1 id=&#34;2配置命令&#34;&gt;2.配置命令:
&lt;/h1&gt;&lt;h3 id=&#34;是root-guard必须在接口模式下开启他通常部署在那些连着你不信任的交换机端口上比如连接客户网络或者接入层交换机的下行口&#34;&gt;是Root Guard必须在接口模式下开启.他通常部署在那些连着你不信任的交换机端口上(比如连接客户网络或者接入层交换机的下行口)。
&lt;/h3&gt;&lt;h2 id=&#34;命令接口模式下&#34;&gt;命令（接口模式下）
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#int G0/1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)spanning-tree guard root
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h1 id=&#34;3输入命令查看&#34;&gt;3.输入命令查看：
&lt;/h1&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch#show spanning tree int G0/1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 你会看见状态显示为：BKM(Broken)会标记为Root inc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h1 id=&#34;注意&#34;&gt;注意！！！
&lt;/h1&gt;&lt;h3 id=&#34;千万不能在你的root-port连接上层核心的口上开root-guard否则你会把真正的大佬也拒之门外导致全网中断&#34;&gt;千万不能在你的root port(连接上层核心的口)上开Root Guard!否则你会把真正的大佬也拒之门外，导致全网中断！！！。
&lt;/h3&gt;</description>
        </item>
        <item>
        <title>CCNA 理论：STP-BPDU工具</title>
        <link>https://RayFUTAI.github.ioc/p/ccna-%E7%90%86%E8%AE%BAstp-bpdu%E5%B7%A5%E5%85%B7/</link>
        <pubDate>Tue, 27 Jan 2026 17:13:21 +0800</pubDate>
        
        <guid>https://RayFUTAI.github.ioc/p/ccna-%E7%90%86%E8%AE%BAstp-bpdu%E5%B7%A5%E5%85%B7/</guid>
        <description>&lt;img src="https://images.unsplash.com/photo-1560640507-a9e7a39b38f0?q=80&amp;w=1470&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Featured image of post CCNA 理论：STP-BPDU工具" /&gt;&lt;h1 id=&#34;1什么是bpud&#34;&gt;1.什么是BPUD？
&lt;/h1&gt;&lt;h3 id=&#34;bpdu就像是交换机之间的心跳包和身份牌&#34;&gt;BPDU就像是交换机之间的心跳包和身份牌:
&lt;/h3&gt;&lt;h4 id=&#34;打招呼嘿我是switch-a我的mac地址是xxx我的优先级是32768&#34;&gt;打招呼:嘿~我是switch A，我的mac地址是XXX我的优先级是32768.
&lt;/h4&gt;&lt;h4 id=&#34;选老大交换机们通过交换bpdu比一比谁的bridge-id-最小选出根桥&#34;&gt;选老大:交换机们通过交换BPDU，比一比谁的Bridge id 最小，选出根桥.
&lt;/h4&gt;&lt;h4 id=&#34;选完老大大家决定谁关掉哪个接口从而把圈拆成一颗树这就是stp&#34;&gt;选完老大，大家决定谁关掉哪个接口，从而把圈拆成一颗树，这就是STP.
&lt;/h4&gt;&lt;h1 id=&#34;2bpud的二大类型&#34;&gt;2.BPUD的二大类型：
&lt;/h1&gt;&lt;h2 id=&#34;1configuration-bpdu配置bpdu&#34;&gt;1.Configuration BPDU（配置BPDU）
&lt;/h2&gt;&lt;h4 id=&#34;谁发的只有老大根桥才有资格发&#34;&gt;谁发的？只有老大（根桥）才有资格发.
&lt;/h4&gt;&lt;h4 id=&#34;干嘛用定期默认每2秒一次巡逻告诉大家我还在大家不要乱动保持当前结构&#34;&gt;干嘛用?定期（默认每2秒一次）巡逻，告诉大家我还在大家不要乱动保持当前结构!
&lt;/h4&gt;&lt;h2 id=&#34;2tcn-bpdu更变通知&#34;&gt;2.TCN BPDU(更变通知)
&lt;/h2&gt;&lt;h4 id=&#34;谁发的当某个交换机发现有个接口断了结构变了&#34;&gt;谁发的？当某个交换机发现有个接口断了（结构变了）.
&lt;/h4&gt;&lt;h4 id=&#34;干嘛用报告老大我这边接口挂了快更新大家的路径信息&#34;&gt;干嘛用?报告老大！我这边接口挂了，快更新大家的路径信息！
&lt;/h4&gt;&lt;h1 id=&#34;3bpud-guardbpdu守护&#34;&gt;3.BPUD Guard(BPDU守护)
&lt;/h1&gt;&lt;h3 id=&#34;定位暴力执法者一旦触发立刻查封&#34;&gt;定位：暴力执法者（一旦触发，立刻查封）
&lt;/h3&gt;&lt;h4 id=&#34;他的逻辑这个端口应该只连接电脑终端不该有交换机如果你敢在这个接口给我发bpdu包说明你私自接了交换机或者在搞攻击&#34;&gt;他的逻辑：这个端口应该只连接电脑(终端)不该有交换机.如果你敢在这个接口给我发BPDU包，说明你私自接了交换机或者在搞攻击.
&lt;/h4&gt;&lt;h4 id=&#34;动作一旦收到bpdu端口立即进入err-disable状态彻底断电熄灯&#34;&gt;动作:一旦收到BPDU，端口立即进入err-disable状态(彻底断电熄灯).
&lt;/h4&gt;&lt;h4 id=&#34;恢复必须网工手动敲shutdown再-no-shutdown或者配置自动恢复30秒&#34;&gt;恢复:必须网工手动敲&amp;quot;shutdown&amp;quot;再 &amp;ldquo;no shutdown&amp;rdquo;,或者配置自动恢复30秒.
&lt;/h4&gt;&lt;h4 id=&#34;1手动重启笨方法&#34;&gt;1.手动重启(笨方法)
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#shutdown
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#no shutdown
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;2自动恢复高级办法&#34;&gt;2.自动恢复（高级办法）
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#errdisable recovery cause bpduguard
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#errdisable recovery interval 30
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h1 id=&#34;4bpud-guard配置指令&#34;&gt;4.BPUD Guard配置指令
&lt;/h1&gt;&lt;h3 id=&#34;核心逻辑只要收到bpdu立即断开&#34;&gt;核心逻辑：只要收到BPDU,立即断开
&lt;/h3&gt;&lt;h2 id=&#34;方式a接口配置最稳-最常用&#34;&gt;方式A：接口配置（最稳-最常用）
&lt;/h2&gt;&lt;h3 id=&#34;如下&#34;&gt;如下：
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#int G0/1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#spanning-tree portfast #必须开启portfast
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#spanning-tree bpduguard enable #开启防卫
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;方式b全局级配置&#34;&gt;方式B：全局级配置
&lt;/h2&gt;&lt;h3 id=&#34;如下-1&#34;&gt;如下：
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#spanning-tree portfast edge bpdugard default
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h1 id=&#34;5bpdu-filterbpdu过滤&#34;&gt;5.BPDU Filter(BPDU过滤)
&lt;/h1&gt;&lt;h3 id=&#34;定位冷漠无视者不听也不发假装不存在&#34;&gt;定位：冷漠无视者（不听也不发，假装不存在）
&lt;/h3&gt;&lt;h4 id=&#34;它的逻辑不管收到什么-bpdu我都直接丢弃不处理也不因此关闭端口同时我也不向外发送-bpdu&#34;&gt;它的逻辑：不管收到什么 BPDU，我都直接丢弃，不处理，也不因此关闭端口。同时，我也不向外发送 BPDU.
&lt;/h4&gt;&lt;h4 id=&#34;动作让这个端口在生成树stp的世界里变成隐形人&#34;&gt;​动作：让这个端口在生成树（STP）的世界里变成隐形人.
&lt;/h4&gt;&lt;h4 id=&#34;风险极度危险-如果你把两台交换机连在一起还开了-filter它们互相看不见bpdu-传不过去100-会产生环路瞬间让你的交换机爆表&#34;&gt;​风险：极度危险！ 如果你把两台交换机连在一起，还开了 Filter，它们互相看不见，BPDU 传不过去，100% 会产生环路，瞬间让你的交换机爆表.
&lt;/h4&gt;&lt;h4 id=&#34;适用场景极少数特殊需求比如连接两个不同的管理域或者非常确定的非环路环境&#34;&gt;适用场景：极少数特殊需求，比如连接两个不同的管理域，或者非常确定的非环路环境。
&lt;/h4&gt;&lt;h1 id=&#34;6bpud-filter配置指令&#34;&gt;6.BPUD Filter配置指令
&lt;/h1&gt;&lt;h3 id=&#34;核心逻辑我不发bpdu收到也当没看见&#34;&gt;核心逻辑：我不发BPDU,收到也当没看见
&lt;/h3&gt;&lt;h2 id=&#34;方式a接口配置危险-慎用&#34;&gt;方式A：接口配置（危险-慎用）
&lt;/h2&gt;&lt;h3 id=&#34;如下-2&#34;&gt;如下：
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#int G0/1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#spanning-tree bpdufilter enable 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;方式b全局级配置相对智能&#34;&gt;方式B：全局级配置(相对智能)
&lt;/h2&gt;&lt;h3 id=&#34;如下-3&#34;&gt;如下：
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#spanning-tree portfast edge budufilter default
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;注全局配置的-filter-有个保命机制如果它收到-bpdu它会自动关掉-filter-功能变回普通的-stp-端口这比接口级配置要安全得多&#34;&gt;注：全局配置的 Filter 有个&amp;quot;保命机制&amp;quot;：如果它收到 BPDU，它会自动关掉 Filter 功能，变回普通的 STP 端口.这比接口级配置要安全得多！
&lt;/h4&gt;&lt;h2 id=&#34;恢复&#34;&gt;恢复
&lt;/h2&gt;&lt;h4 id=&#34;1手动重启笨方法-1&#34;&gt;1.手动重启(笨方法)
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#shutdown
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config-if)#no shutdown
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;2自动恢复高级办法-1&#34;&gt;2.自动恢复（高级办法）
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#errdisable recovery cause bpduguard
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Switch(config)#errdisable recovery interval 30
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h1 id=&#34;7总结&#34;&gt;7.总结：
&lt;/h1&gt;&lt;h2 id=&#34;guard是用来抓贼的抓到就关门&#34;&gt;Guard是用来抓贼的（抓到就关门）
&lt;/h2&gt;&lt;h2 id=&#34;filter是用来隐身的假装听不见&#34;&gt;Filter是用来隐身的（假装听不见）
&lt;/h2&gt;</description>
        </item>
        <item>
        <title>CCNA 理论：STP-Prtfast工具</title>
        <link>https://RayFUTAI.github.ioc/p/ccna-%E7%90%86%E8%AE%BAstp-prtfast%E5%B7%A5%E5%85%B7/</link>
        <pubDate>Mon, 26 Jan 2026 20:59:51 +0800</pubDate>
        
        <guid>https://RayFUTAI.github.ioc/p/ccna-%E7%90%86%E8%AE%BAstp-prtfast%E5%B7%A5%E5%85%B7/</guid>
        <description>&lt;img src="https://images.unsplash.com/photo-1599173704879-2e407aa34cde?q=80&amp;w=1470&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Featured image of post CCNA 理论：STP-Prtfast工具" /&gt;&lt;h1 id=&#34;1为什么要用prtfast解决收敛延迟&#34;&gt;1.为什么要用Prtfast？（解决收敛延迟）
&lt;/h1&gt;&lt;h1 id=&#34;在标准的生成树协议stp中从一个端口接入网要经历以下流程&#34;&gt;在标准的生成树协议(STP)中从一个端口接入网要经历以下流程:
&lt;/h1&gt;&lt;h2 id=&#34;blocking堵塞-listening监听-learning学习-forwarding转发&#34;&gt;Blocking(堵塞)-Listening(监听)-Learning(学习)-Forwarding(转发)
&lt;/h2&gt;&lt;h2 id=&#34;这个过程通常需要30秒&#34;&gt;这个过程通常需要30秒
&lt;/h2&gt;&lt;h2 id=&#34;场景模拟&#34;&gt;场景模拟:
&lt;/h2&gt;&lt;h4 id=&#34;如果你的一台pc连接到交换机pc启动很快网卡已经up了并开始dhcp请求但是交换机还在慢悠悠地进行stp计算处理监听状态结果就是dhcp超时网络连接失败30秒后才可以上网这对用户来说是灾难&#34;&gt;如果你的一台PC连接到交换机，pc启动很快网卡已经UP了并开始DHCP请求，但是交换机还在慢悠悠地进行STP计算（处理监听状态）结果就是DHCP超时，网络连接失败30秒后才可以上网这对用户来说是灾难！
&lt;/h4&gt;&lt;h1 id=&#34;2prtfast底层逻辑&#34;&gt;2.Prtfast底层逻辑
&lt;/h1&gt;&lt;h4 id=&#34;当你对一个接口使用prtfast后接口会跳过listening监听-learning学习阶段直接进入forwarding转发状态&#34;&gt;当你对一个接口使用Prtfast后接口会跳过Listening(监听)-Learning(学习)阶段+直接进入Forwarding(转发)状态
&lt;/h4&gt;&lt;h3 id=&#34;1瞬间up端口几乎在物理链路连通之间的同时就能转发数据包&#34;&gt;1.瞬间UP:端口几乎在物理链路连通之间的同时就能转发数据包。
&lt;/h3&gt;&lt;h3 id=&#34;2适用对象只能适用终端设备pc服务器打印机的接口&#34;&gt;2.适用对象:只能适用终端设备（pc，服务器，打印机）的接口
&lt;/h3&gt;&lt;h3 id=&#34;3禁止对象交换机集线器或者网桥&#34;&gt;3.禁止对象:交换机，集线器或者网桥
&lt;/h3&gt;&lt;h4 id=&#34;如果你在二个交换机互联的链路上开启prtfast极大概率引起广播风暴&#34;&gt;如果你在二个交换机互联的链路上开启Prtfast，极大概率引起广播风暴!!!
&lt;/h4&gt;&lt;h1 id=&#34;3配置指令&#34;&gt;3.配置指令
&lt;/h1&gt;&lt;h2 id=&#34;方式a接口配置针对特定接口&#34;&gt;方式A：接口配置（针对特定接口）
&lt;/h2&gt;&lt;h3 id=&#34;如下在交换机下&#34;&gt;如下（在交换机下）
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;interface G0/1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;spanning-tree portfast
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;方式b全局配置针对所有access端口&#34;&gt;方式B：全局配置（针对所有Access端口）
&lt;/h2&gt;&lt;h3 id=&#34;如下在交换机下-1&#34;&gt;如下（在交换机下）
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;spanning-tree portfast default
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h1 id=&#34;4进阶补丁bpdu-guard&#34;&gt;4.进阶补丁:BPDU Guard
&lt;/h1&gt;&lt;h4 id=&#34;开启了portfast-之后如果有人不小心接上了一个交换机会导致广播风暴我们要配合bpdu-guard使用&#34;&gt;开启了portfast 之后如果有人不小心接上了一个交换机会导致广播风暴，我们要配合BPDU Guard使用：
&lt;/h4&gt;&lt;h2 id=&#34;如下在交换机下-2&#34;&gt;如下（在交换机下）
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;spanning-tree bpduguard enable
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;开启这个以后portfast-端口收到bpdu包他会立即进入err-disable状态直接把物理链路掐断&#34;&gt;开启这个以后portfast 端口收到BPDU包他会立即进入err-disable状态，直接把物理链路掐断。
&lt;/h4&gt;&lt;h1 id=&#34;总结&#34;&gt;总结:
&lt;/h1&gt;&lt;h2 id=&#34;优点解决dhcp超时问题提升用户体验&#34;&gt;优点:解决DHCP超时问题，提升用户体验！
&lt;/h2&gt;&lt;h2 id=&#34;风险配置不当会导致物理环路&#34;&gt;风险:配置不当会导致物理环路!
&lt;/h2&gt;&lt;h2 id=&#34;黄金法则终端开启互联禁止必须配合bpdu-guard&#34;&gt;黄金法则：终端开启，互联禁止，必须配合BPDU Guard！
&lt;/h2&gt;</description>
        </item>
        
    </channel>
</rss>
